<?xml version="1.0" encoding="UTF-8"?>
<!DOCTYPE mapper PUBLIC "-//mybatis.org//DTD Mapper 3.0//EN"
"http://mybatis.org/dtd/mybatis-3-mapper.dtd">

<mapper namespace="com.lecture.practice.mapper.BoardMapper">


	<select id="getBoardList" resultType="com.lecture.practice.domain.BoardVO">
		SELECT * from board
	</select>

	<insert id="board_write" >
		<![CDATA[
		INSERT INTO board( id, board_id, title, content ) VALUES ( #{id}, #{board_id}, #{title}, #{content} )
		]]>
	</insert>
	
	<insert id="board_file">
		<![CDATA[
		INSERT INTO board_file( board_id, file_name ) VALUES ( #{board_id}, #{file_name} )
		]]>
	</insert>

	<select id="board_detail" resultType="com.lecture.practice.domain.BoardVO">
		<![CDATA[
		SELECT b.id, b.board_id, b.title, b.content, f.file_name FROM board b, board_file f
		WHERE b.board_id = f.board_id
		ANd board_id = #{board_id}
  	  	]]>
	</select>

	<update id="board_delete" >
		<![CDATA[
		update board
		SET is_delete = '1'
		WHERE board_id = #{board_id}
		]]>
	</update>
	
	<update id="board_modify" >
		<![CDATA[
		update board
		SET title = #{title}
			content = #{content}
		WHERE board_id = #{board_id}
		]]>
	</update>
	
		<update id="board_file_modify" >
		<![CDATA[
		update board_file
		SET file_name = #{file_name}
		WHERE board_id = #{board_id}
		]]>
	</update>
</mapper>